var reposHAL={"_links":{"self":{"href":"/MDIAZ88"}},"_embedded":{"Repos":[{"_links":{"self":{"href":"/MDIAZ88/angular-education"},"next":{"href":"/repos/MDIAZ88/angular-education/commits"}},"name":"angular-education"},{"_links":{"self":{"href":"/MDIAZ88/angular-lab"},"next":{"href":"/repos/MDIAZ88/angular-lab/commits"}},"name":"angular-lab"},{"_links":{"self":{"href":"/MDIAZ88/angular-test-patterns"},"next":{"href":"/repos/MDIAZ88/angular-test-patterns/commits"}},"name":"angular-test-patterns"},{"_links":{"self":{"href":"/MDIAZ88/AngularJS-Learning"},"next":{"href":"/repos/MDIAZ88/AngularJS-Learning/commits"}},"name":"AngularJS-Learning"},{"_links":{"self":{"href":"/MDIAZ88/angularjsTest"},"next":{"href":"/repos/MDIAZ88/angularjsTest/commits"}},"name":"angularjsTest"},{"_links":{"self":{"href":"/MDIAZ88/glb-angularjs-practice"},"next":{"href":"/repos/MDIAZ88/glb-angularjs-practice/commits"}},"name":"glb-angularjs-practice"},{"_links":{"self":{"href":"/MDIAZ88/grunt-nodemon"},"next":{"href":"/repos/MDIAZ88/grunt-nodemon/commits"}},"name":"grunt-nodemon"},{"_links":{"self":{"href":"/MDIAZ88/html5bootcamp"},"next":{"href":"/repos/MDIAZ88/html5bootcamp/commits"}},"name":"html5bootcamp"},{"_links":{"self":{"href":"/MDIAZ88/ng-jwt-workshop"},"next":{"href":"/repos/MDIAZ88/ng-jwt-workshop/commits"}},"name":"ng-jwt-workshop"},{"_links":{"self":{"href":"/MDIAZ88/PhlyRestfully"},"next":{"href":"/repos/MDIAZ88/PhlyRestfully/commits"}},"name":"PhlyRestfully"},{"_links":{"self":{"href":"/MDIAZ88/protractor"},"next":{"href":"/repos/MDIAZ88/protractor/commits"}},"name":"protractor"},{"_links":{"self":{"href":"/MDIAZ88/rv-protractor"},"next":{"href":"/repos/MDIAZ88/rv-protractor/commits"}},"name":"rv-protractor"},{"_links":{"self":{"href":"/MDIAZ88/sessions-angularJs"},"next":{"href":"/repos/MDIAZ88/sessions-angularJs/commits"}},"name":"sessions-angularJs"},{"_links":{"self":{"href":"/MDIAZ88/startup"},"next":{"href":"/repos/MDIAZ88/startup/commits"}},"name":"startup"},{"_links":{"self":{"href":"/MDIAZ88/ui-router"},"next":{"href":"/repos/MDIAZ88/ui-router/commits"}},"name":"ui-router"},{"_links":{"self":{"href":"/MDIAZ88/userapp-angular"},"next":{"href":"/repos/MDIAZ88/userapp-angular/commits"}},"name":"userapp-angular"}]},"id":"HAL","name":"HAL+JSON-Test","origin":"Github","status":"Public","total":16};
var reposHAL2={"_links":{"self":{"href":"/b3nshi"}},"_embedded":{"Repos":[{"_links":{"self":{"href":"/b3nshi/2048"},"next":{"href":"/repos/b3nshi/2048/commits"}},"name":"2048"},{"_links":{"self":{"href":"/b3nshi/express-handlebars"},"next":{"href":"/repos/b3nshi/express-handlebars/commits"}},"name":"express-handlebars"},{"_links":{"self":{"href":"/b3nshi/jekyll"},"next":{"href":"/repos/b3nshi/jekyll/commits"}},"name":"jekyll"},{"_links":{"self":{"href":"/b3nshi/Magnific-Popup"},"next":{"href":"/repos/b3nshi/Magnific-Popup/commits"}},"name":"Magnific-Popup"},{"_links":{"self":{"href":"/b3nshi/noty"},"next":{"href":"/repos/b3nshi/noty/commits"}},"name":"noty"},{"_links":{"self":{"href":"/b3nshi/simpleRESTjs"},"next":{"href":"/repos/b3nshi/simpleRESTjs/commits"}},"name":"simpleRESTjs"},{"_links":{"self":{"href":"/b3nshi/vimphp"},"next":{"href":"/repos/b3nshi/vimphp/commits"}},"name":"vimphp"}]},"id":"HAL","name":"HAL+JSON-Test","origin":"Github","status":"Public","total":7};
var commitsHAL={"_links":{"self":{"href":"/MDIAZ88"}},"_embedded":{"Commits":[{"_links":{"self":{"href":"/MDIAZ88/eabait/f10e20d4907e265cd6876bae5506cda074819b2d"}},"sha":"f10e20d4907e265cd6876bae5506cda074819b2d","Commit_Date":"2014-10-31T18:10:09Z","Author":"Esteban S. Abait","Message":"Merge pull request #2 from jvallelunga/master\n\nAnti-Pattern added"},{"_links":{"self":{"href":"/MDIAZ88/jvallelunga/b08e47ef9dd9b0cab4eb1f7d31105c751b2d107a"}},"sha":"b08e47ef9dd9b0cab4eb1f7d31105c751b2d107a","Commit_Date":"2014-10-31T18:06:58Z","Author":"jvallelunga","Message":"Update README.md\n\nAnti-Pattern added"},{"_links":{"self":{"href":"/MDIAZ88/eabait/c0db7a006577188a3e8931583ec30dc6209aa25c"}},"sha":"c0db7a006577188a3e8931583ec30dc6209aa25c","Commit_Date":"2014-04-09T14:21:00Z","Author":"Esteban S. Abait","Message":"Update README.md"},{"_links":{"self":{"href":"/MDIAZ88/eabait/bdb7023050ce74b42752ce671df9cb6a8793ca82"}},"sha":"bdb7023050ce74b42752ce671df9cb6a8793ca82","Commit_Date":"2014-02-19T13:21:43Z","Author":"Esteban S. Abait","Message":"Update README.md"},{"_links":{"self":{"href":"/MDIAZ88/eabait/163cb9de9abcc719577f67f29648d04b56960dd3"}},"sha":"163cb9de9abcc719577f67f29648d04b56960dd3","Commit_Date":"2014-02-19T13:21:28Z","Author":"Esteban S. Abait","Message":"Update README.md"},{"_links":{"self":{"href":"/MDIAZ88/eabait/950f997d698520b248c3cba3b0e73227beab9a34"}},"sha":"950f997d698520b248c3cba3b0e73227beab9a34","Commit_Date":"2014-02-19T13:19:17Z","Author":"Esteban S. Abait","Message":"Updated README.md"},{"_links":{"self":{"href":"/MDIAZ88/eabait/ba4d6f6e95368cb3827030626ebcbc3efeafa23c"}},"sha":"ba4d6f6e95368cb3827030626ebcbc3efeafa23c","Commit_Date":"2014-02-17T18:28:59Z","Author":"Esteban S. Abait","Message":"Initial commit"}]},"id":"HAL","name":"HAL+JSON-Test2","origin":"Github","total":7};
var commitsHAL2={"_links":{"self":{"href":"/b3nshi"}},"_embedded":{"Commits":[{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/542208d94ac562ff573d697039a493cafcc7f014"}},"sha":"542208d94ac562ff573d697039a493cafcc7f014","Commit_Date":"2014-04-06T21:05:12Z","Author":"Gabriele Cirulli","Message":"Merge pull request #112 from Josso/startup-image\n\nAdd startup-images for the iPhone"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/2798bb0b1e2da578c91f69496508673a05e7a160"}},"sha":"2798bb0b1e2da578c91f69496508673a05e7a160","Commit_Date":"2014-03-27T18:11:49Z","Author":"Gabriele Cirulli","Message":"Merge pull request #115 from iirelu/jshint-compliance\n\nMade animframe_polyfill.js JSHint compliant"},{"_links":{"self":{"href":"/b3nshi/iirelu/82834dfc5bf2740418063c1b644e606dd8e46dd0"}},"sha":"82834dfc5bf2740418063c1b644e606dd8e46dd0","Commit_Date":"2014-03-27T17:52:07Z","Author":"iirelu","Message":"Made animframe_polyfill.js JSHint compliant\n\nReformatted a bunch to make JSHint happy."},{"_links":{"self":{"href":"/b3nshi/johankj/1264d9b3f02ea27dbddbf6f71fc4f3a8c6ebf355"}},"sha":"1264d9b3f02ea27dbddbf6f71fc4f3a8c6ebf355","Commit_Date":"2014-03-27T13:20:32Z","Author":"Johan K. Jensen","Message":"Add startup-images for the iPhone."},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/878098f855e734a9ac47ef1d1832664abb5e0454"}},"sha":"878098f855e734a9ac47ef1d1832664abb5e0454","Commit_Date":"2014-03-23T19:21:58Z","Author":"Gabriele Cirulli","Message":"apply changes from #43"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/b08fa8d6a48efbf7018bc1812f3de2c7d550877c"}},"sha":"b08fa8d6a48efbf7018bc1812f3de2c7d550877c","Commit_Date":"2014-03-23T19:17:22Z","Author":"Gabriele Cirulli","Message":"apply css improvements from #68"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/71baa9d3d708a3cac419fa2df59af0ec78ede312"}},"sha":"71baa9d3d708a3cac419fa2df59af0ec78ede312","Commit_Date":"2014-03-23T19:12:53Z","Author":"Gabriele Cirulli","Message":"Update CONTRIBUTING.md"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/7dcbe282844bd44c3ce18f32f58a026c0a6d7dd4"}},"sha":"7dcbe282844bd44c3ce18f32f58a026c0a6d7dd4","Commit_Date":"2014-03-23T19:09:19Z","Author":"Gabriele Cirulli","Message":"#98 improve contributing guide"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/d403f84d7de6ab91782e47157fb7cfbcb3b296ce"}},"sha":"d403f84d7de6ab91782e47157fb7cfbcb3b296ce","Commit_Date":"2014-03-23T18:56:08Z","Author":"Gabriele Cirulli","Message":"add https://github.com/mgarciaisaia mention to readme"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/cf01ca7e8bf670822c55b0a4b04cd5c2b0271b3e"}},"sha":"cf01ca7e8bf670822c55b0a4b04cd5c2b0271b3e","Commit_Date":"2014-03-23T18:51:29Z","Author":"Gabriele Cirulli","Message":"manually apply #81"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/2f912471322c62cdc3b4628010330e42541ab11f"}},"sha":"2f912471322c62cdc3b4628010330e42541ab11f","Commit_Date":"2014-03-22T17:45:48Z","Author":"Gabriele Cirulli","Message":"improve comments in game manager"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/6cb3d71a40f1f030efe67263a43673882ba60523"}},"sha":"6cb3d71a40f1f030efe67263a43673882ba60523","Commit_Date":"2014-03-22T17:41:47Z","Author":"Gabriele Cirulli","Message":"improve comments in game manager"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/af683a7856485d8be156c3e070fdb7c9baff0145"}},"sha":"af683a7856485d8be156c3e070fdb7c9baff0145","Commit_Date":"2014-03-22T17:33:24Z","Author":"Gabriele Cirulli","Message":"clear game state on game over"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/bf1ba513c1a717c52f110ef30237397093ba0bfb"}},"sha":"bf1ba513c1a717c52f110ef30237397093ba0bfb","Commit_Date":"2014-03-22T16:40:57Z","Author":"Gabriele Cirulli","Message":"update css"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/156ef6e50d4ac6a4b008c71b59e60ed4ef347603"}},"sha":"156ef6e50d4ac6a4b008c71b59e60ed4ef347603","Commit_Date":"2014-03-22T16:39:02Z","Author":"Gabriele Cirulli","Message":"Merge pull request #96 from jimminning/patch-3\n\nUpdate main.scss for -ms-user-select (IE)"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/3cfdcca0d238bf1d69a7618ae4fe88fd0c8d0588"}},"sha":"3cfdcca0d238bf1d69a7618ae4fe88fd0c8d0588","Commit_Date":"2014-03-22T16:31:55Z","Author":"Gabriele Cirulli","Message":"increase margin above game field"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/e729f7457f23c5e2ddf7c323fca21a9027eadee7"}},"sha":"e729f7457f23c5e2ddf7c323fca21a9027eadee7","Commit_Date":"2014-03-22T16:28:14Z","Author":"Gabriele Cirulli","Message":"bring container margin top into variable and reduce it on mobile"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/17fe360df1ab312c9988324f56d5eeb960da4bde"}},"sha":"17fe360df1ab312c9988324f56d5eeb960da4bde","Commit_Date":"2014-03-22T16:09:08Z","Author":"Gabriele Cirulli","Message":"Merge branch 'master' of https://github.com/gabrielecirulli/2048"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/8ad8318c7ce84298b17dcf0aa15f357926cb2ffa"}},"sha":"8ad8318c7ce84298b17dcf0aa15f357926cb2ffa","Commit_Date":"2014-03-22T16:06:37Z","Author":"Gabriele Cirulli","Message":"align assignments"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/88e084a0d731f138a017e62400d364bcdb682e22"}},"sha":"88e084a0d731f138a017e62400d364bcdb682e22","Commit_Date":"2014-03-22T16:06:32Z","Author":"Gabriele Cirulli","Message":"remove irrelevant size property on serialized game"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/4fa41a045be4e3654eca43cc9a6852a5fd56d3d3"}},"sha":"4fa41a045be4e3654eca43cc9a6852a5fd56d3d3","Commit_Date":"2014-03-22T16:01:36Z","Author":"Gabriele Cirulli","Message":"reintroduce \"to\" in intro"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/560859fcd9af9b4280e32d48806d91057702e0b0"}},"sha":"560859fcd9af9b4280e32d48806d91057702e0b0","Commit_Date":"2014-03-22T16:00:50Z","Author":"Gabriele Cirulli","Message":"restyle new game button to put it on the right side of the introduction"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/4ad15d4cbd224fd36d4f1139ebb28c6b4af1ad6d"}},"sha":"4ad15d4cbd224fd36d4f1139ebb28c6b4af1ad6d","Commit_Date":"2014-03-22T15:35:47Z","Author":"Gabriele Cirulli","Message":"add R key to restart game"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/a6531b08bdf7cea4e402dda078e8016563cce401"}},"sha":"a6531b08bdf7cea4e402dda078e8016563cce401","Commit_Date":"2014-03-22T15:29:23Z","Author":"Gabriele Cirulli","Message":"add getter comments"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/c48b92689dd232656b669e13c982e1d74bf753bf"}},"sha":"c48b92689dd232656b669e13c982e1d74bf753bf","Commit_Date":"2014-03-22T15:24:11Z","Author":"Gabriele Cirulli","Message":"refactor grid, gamemanager, tile"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/4d294cf9b93056a3f8910fcc061f1dad18b67398"}},"sha":"4d294cf9b93056a3f8910fcc061f1dad18b67398","Commit_Date":"2014-03-22T15:11:19Z","Author":"Gabriele Cirulli","Message":"remove space to restart game, refactor code slightly"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/08c50df9386e4003a76a5fb03a3941516531403f"}},"sha":"08c50df9386e4003a76a5fb03a3941516531403f","Commit_Date":"2014-03-22T14:38:52Z","Author":"Gabriele Cirulli","Message":"rename LocalScoreManager to LocalStorageManager"},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/bd7f8963d0672f12e286a37943c5e5d5765401d9"}},"sha":"bd7f8963d0672f12e286a37943c5e5d5765401d9","Commit_Date":"2014-03-22T14:35:51Z","Author":"Gabriele Cirulli","Message":"Merge branch 'resume-game' of github.com:mfrederiksen/2048 into mfrederiksen-resume-game"},{"_links":{"self":{"href":"/b3nshi/jimminning/17f0f57b98e47f2dd08a4ae1e6f7fc365731fe60"}},"sha":"17f0f57b98e47f2dd08a4ae1e6f7fc365731fe60","Commit_Date":"2014-03-22T11:28:51Z","Author":"Jim Minning","Message":"Update main.scss\n\nAdded IE specific user select none, to prevent text selection on IE swiping."},{"_links":{"self":{"href":"/b3nshi/gabrielecirulli/6c12037b2a090ed0f1bd7ab1738637810f98da46"}},"sha":"6c12037b2a090ed0f1bd7ab1738637810f98da46","Commit_Date":"2014-03-21T14:33:51Z","Author":"Gabriele Cirulli","Message":"Update README.md"}]},"id":"HAL","name":"HAL+JSON-Test2","origin":"Github","total":30};

describe("*Github Service Test/", function(){

    beforeEach(module("app"));

    var service,
        $httpBackend;

    beforeEach(inject(function(githubService, _$httpBackend_){
        service = githubService;
        $httpBackend = _$httpBackend_;
    }));

    afterEach(function(){
        expect(service.reposQuery()).toBeDefined();
    });

    describe("-Function reposQuery Test/", function(){

        it("reposQuery Should Respond With Success With Username=MDIAZ88", function(){
            $httpBackend.whenGET("http://localhost:3000/MDIAZ88").respond(reposHAL);
            var promise = service.reposQuery('MDIAZ88'),
                result = null;

            promise.then(function(res){
                result = res;
            }, function(err,status){
                console.log(err);
                result = err;
            });
            $httpBackend.flush();
            expect(result).toEqual(reposHAL);
        });

        it("reposQuery Should Respond With Success With Username=b3nshi", function(){
            $httpBackend.whenGET("http://localhost:3000/b3nshi").respond(reposHAL2);
            var promise = service.reposQuery('b3nshi'),
                result = null;

            promise.then(function(res){
                result = res;
            }, function(err,status){
                console.log(err);
                result = err;
            });
            $httpBackend.flush();
            expect(result).toEqual(reposHAL2);
        });

        it("reposQuery Should Respond With Error When Username Is Incorrect", function(){
            $httpBackend.whenGET("http://localhost:3000/LALA").respond([{message:"NOT - Found", error: 404}]);
            var promise = service.reposQuery('LALA'),
                result = null;

            promise.then(function(res){
                result = res;
            }, function(err,status){
                console.log(err);
                result = err;
            });
            $httpBackend.flush();
            expect(result).toEqual([{message:"NOT - Found", error: 404}]);
        });


       
    });

    describe('-Function commitsQuery Test/',function(){

        it("Function commitsQuery Should Respond With Success With Username=MDIAZ88 and Repositorie=angular-lab", function(){
            $httpBackend.whenGET('http://localhost:3000/MDIAZ88/angular-lab/commits').respond(commitsHAL);
            var promise = service.commitsQuery('MDIAZ88','angular-lab'),
                result = null;

            promise.then(function(res){
                result = res;
            }, function(err,status){
                console.log(err);
                result = err;
            });
            $httpBackend.flush();
            expect(result).toEqual(commitsHAL);
        });

        it("Function commitsQuery Should Respond With Success With Username=b3nshi and Repositorie=2048", function(){
            $httpBackend.whenGET('http://localhost:3000/b3nshi/2048/commits').respond(commitsHAL2);
            var promise = service.commitsQuery('b3nshi','2048'),
                result = null;

            promise.then(function(res){
                result = res;
            }, function(err,status){
                console.log(err);
                result = err;
            });
            $httpBackend.flush();
            expect(result).toEqual(commitsHAL2);
        });

        it("Function commitsQuery Should Respond With Error With Incorrect Username and Incorrect Repositorie", function(){
            $httpBackend.whenGET('http://localhost:3000/LALA/angular-labss/commits').respond([{message:"NOT - Found", error: 404}]);
            var promise = service.commitsQuery('LALA','angular-labss'),
                result = null;

            promise.then(function(res){
                result = res;
            }, function(err,status){
                console.log(err);
                result = err;
            });
            $httpBackend.flush();
            expect(result).toEqual([{message:"NOT - Found", error: 404}]);
        });
    });

});