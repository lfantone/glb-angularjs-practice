var pullsAndCommitsHAL={"_links":{"self":{"href":"/lfantone/glb-nodejs-practice/all"},"commits":{"href":"/lfantone/glb-nodejs-practice/commits"},"pull-requests":{"href":"/lfantone/glb-nodejs-practice/pulls"},"repository":{"href":"/lfantone/glb-nodejs-practice"},"repositories":{"href":"/lfantone"}},"_embedded":{"Pullrequests":[{"_links":{"self":{"href":"/lfantone/glb-nodejs-practice/pulls/3"}},"id":36925536,"number":3,"title":"MDIAZ","state":"open","url":"https://github.com/lfantone/glb-nodejs-practice/pull/3"}],"Commits":[{"_links":{"self":{"href":"/lfantone/glb-nodejs-practice/commits/e48cfd34ccff6a3707d3a821c0721e8aec2d774f"}},"sha":"e48cfd34ccff6a3707d3a821c0721e8aec2d774f","Commit_Date":"2015-06-09T12:44:19Z","Author":"Luciano Fantone","Message":"Update README.md","url":"https://github.com/lfantone/glb-nodejs-practice/commit/e48cfd34ccff6a3707d3a821c0721e8aec2d774f"},{"_links":{"self":{"href":"/lfantone/glb-nodejs-practice/commits/1baf8d93cbfd3c57ba1af61024655392f3799516"}},"sha":"1baf8d93cbfd3c57ba1af61024655392f3799516","Commit_Date":"2015-06-09T12:43:36Z","Author":"Luciano Fantone","Message":"Update README.md","url":"https://github.com/lfantone/glb-nodejs-practice/commit/1baf8d93cbfd3c57ba1af61024655392f3799516"},{"_links":{"self":{"href":"/lfantone/glb-nodejs-practice/commits/6f7a89bcef9b7d08358d397e8c22225a51cb2682"}},"sha":"6f7a89bcef9b7d08358d397e8c22225a51cb2682","Commit_Date":"2015-06-03T23:11:15Z","Author":"Luciano Fantone","Message":"Merge pull request #1 from lfantone/mdiaz\n\nFirst Api","url":"https://github.com/lfantone/glb-nodejs-practice/commit/6f7a89bcef9b7d08358d397e8c22225a51cb2682"},{"_links":{"self":{"href":"/lfantone/glb-nodejs-practice/commits/d332da9286dc0dfed5cfabf71a3b936e20bd2338"}},"sha":"d332da9286dc0dfed5cfabf71a3b936e20bd2338","Commit_Date":"2015-06-03T18:30:45Z","Author":"Luciano Fantone","Message":"Update README.md","url":"https://github.com/lfantone/glb-nodejs-practice/commit/d332da9286dc0dfed5cfabf71a3b936e20bd2338"},{"_links":{"self":{"href":"/lfantone/glb-nodejs-practice/commits/b385df9a053529ed698eea9d8be20193ca4e687c"}},"sha":"b385df9a053529ed698eea9d8be20193ca4e687c","Commit_Date":"2015-06-03T18:28:37Z","Author":"Luciano Fantone","Message":"Update README.md","url":"https://github.com/lfantone/glb-nodejs-practice/commit/b385df9a053529ed698eea9d8be20193ca4e687c"},{"_links":{"self":{"href":"/lfantone/glb-nodejs-practice/commits/d8be3f24d34164cc0c5efe42eec151cac4c9f5fb"}},"sha":"d8be3f24d34164cc0c5efe42eec151cac4c9f5fb","Commit_Date":"2015-06-03T18:19:26Z","Author":"Luciano Fantone","Message":"Update README.md","url":"https://github.com/lfantone/glb-nodejs-practice/commit/d8be3f24d34164cc0c5efe42eec151cac4c9f5fb"},{"_links":{"self":{"href":"/lfantone/glb-nodejs-practice/commits/b5471286a8db656ff01dda582fd3c2f87e79289f"}},"sha":"b5471286a8db656ff01dda582fd3c2f87e79289f","Commit_Date":"2015-06-03T14:40:52Z","Author":"Luciano Fantone","Message":"Merge pull request #2 from lfantone/readme\n\nUpdate readme","url":"https://github.com/lfantone/glb-nodejs-practice/commit/b5471286a8db656ff01dda582fd3c2f87e79289f"},{"_links":{"self":{"href":"/lfantone/glb-nodejs-practice/commits/90d8cad7d72f0fd2286b2a04e4a4a98252adbfae"}},"sha":"90d8cad7d72f0fd2286b2a04e4a4a98252adbfae","Commit_Date":"2015-06-03T14:17:42Z","Author":"Christian Musa","Message":"Update readme","url":"https://github.com/lfantone/glb-nodejs-practice/commit/90d8cad7d72f0fd2286b2a04e4a4a98252adbfae"},{"_links":{"self":{"href":"/lfantone/glb-nodejs-practice/commits/b47982110c068786c368533770e3971770b00470"}},"sha":"b47982110c068786c368533770e3971770b00470","Commit_Date":"2015-05-26T12:13:35Z","Author":"Marcos Diaz","Message":"test modified","url":"https://github.com/lfantone/glb-nodejs-practice/commit/b47982110c068786c368533770e3971770b00470"},{"_links":{"self":{"href":"/lfantone/glb-nodejs-practice/commits/9bb399bed6e893cddba36f8f2ac2f33794ae17d1"}},"sha":"9bb399bed6e893cddba36f8f2ac2f33794ae17d1","Commit_Date":"2015-05-22T17:50:54Z","Author":"Marcos Diaz","Message":"bin folder deleted","url":"https://github.com/lfantone/glb-nodejs-practice/commit/9bb399bed6e893cddba36f8f2ac2f33794ae17d1"},{"_links":{"self":{"href":"/lfantone/glb-nodejs-practice/commits/9533bd0def4aeb52f89a148cdfdd22ae3827f911"}},"sha":"9533bd0def4aeb52f89a148cdfdd22ae3827f911","Commit_Date":"2015-05-22T17:48:59Z","Author":"Marcos Diaz","Message":"app.js as nodemon starter","url":"https://github.com/lfantone/glb-nodejs-practice/commit/9533bd0def4aeb52f89a148cdfdd22ae3827f911"},{"_links":{"self":{"href":"/lfantone/glb-nodejs-practice/commits/22d7996b130ecb4e6a9c3e5fbe2da50d07439ab4"}},"sha":"22d7996b130ecb4e6a9c3e5fbe2da50d07439ab4","Commit_Date":"2015-05-22T16:52:56Z","Author":"Marcos Diaz","Message":"New services and tets","url":"https://github.com/lfantone/glb-nodejs-practice/commit/22d7996b130ecb4e6a9c3e5fbe2da50d07439ab4"},{"_links":{"self":{"href":"/lfantone/glb-nodejs-practice/commits/6a04685b5cf7555d6b7790ba93d7323ce5371f90"}},"sha":"6a04685b5cf7555d6b7790ba93d7323ce5371f90","Commit_Date":"2015-05-22T12:05:42Z","Author":"Marcos Diaz","Message":"2 files deleted","url":"https://github.com/lfantone/glb-nodejs-practice/commit/6a04685b5cf7555d6b7790ba93d7323ce5371f90"},{"_links":{"self":{"href":"/lfantone/glb-nodejs-practice/commits/d67cf36e662d2717629923966fb6fb733674fcf3"}},"sha":"d67cf36e662d2717629923966fb6fb733674fcf3","Commit_Date":"2015-05-22T11:56:14Z","Author":"Marcos Diaz","Message":"First Api modifications","url":"https://github.com/lfantone/glb-nodejs-practice/commit/d67cf36e662d2717629923966fb6fb733674fcf3"},{"_links":{"self":{"href":"/lfantone/glb-nodejs-practice/commits/37c6eeddea20d23705d0b46e2bb255ef3c52b100"}},"sha":"37c6eeddea20d23705d0b46e2bb255ef3c52b100","Commit_Date":"2015-05-20T13:37:58Z","Author":"Marcos Diaz","Message":"First Api","url":"https://github.com/lfantone/glb-nodejs-practice/commit/37c6eeddea20d23705d0b46e2bb255ef3c52b100"},{"_links":{"self":{"href":"/lfantone/glb-nodejs-practice/commits/780f5afef0b510a991f129da67124a4f2c6aa9ac"}},"sha":"780f5afef0b510a991f129da67124a4f2c6aa9ac","Commit_Date":"2015-05-20T13:16:49Z","Author":"Luciano Fantone","Message":"Initial commit","url":"https://github.com/lfantone/glb-nodejs-practice/commit/780f5afef0b510a991f129da67124a4f2c6aa9ac"}]},"id":"HAL-JSON","name":"Pull-Requests And Commits","origin":"Github","total_Pulls":1,"total_Commits":16};
var errorMessage=[{"Error":404,"Message":"Commits NOT-Found please check the URL"}];
describe('*Pull Requests and Commits Controller Test/',function(){
  var controller,
  $scope,
  serviceMock,
  promiseSpy={}; 

  beforeEach(module('app'));
  beforeEach(inject(function ($rootScope,$controller){

    $scope=$rootScope.$new();

    serviceMock=jasmine.createSpyObj('githubService',['getPullsAndCommits']);

    serviceMock.getPullsAndCommits.andReturn(promiseSpy);

  }));  

  afterEach(function(){
    expect(serviceMock.getPullsAndCommits).toHaveBeenCalled();
  });

  it('Should Test The Success Response Promise/',inject(function ($controller){
    promiseSpy.then=function(success,error){
      success(pullsAndCommitsHAL);
    };
    controller = $controller('pullsAndCommitsController', {
      $scope : $scope,
      githubService: serviceMock
    });
    $scope.$apply();
    expect($scope.response).toEqual(pullsAndCommitsHAL);
  }));


  it('Should Test The Error Response Promise/',inject(function ($controller){
    promiseSpy.then=function(success,error){
      error(errorMessage);
    };
    controller = $controller('pullsAndCommitsController', {
      $scope : $scope,
      githubService: serviceMock
    });
    $scope.$apply();
    expect($scope.errorMessage).toEqual(errorMessage);
  }));


});


